ROS Installation (Ubuntu):
sudo apt-get install build-essential python-yaml cmake subversion wget git-core git-gui git-doc

git clone git://github.com/peterpolidoro/Flyatar.git ~/git/Flyatar
cp ~/git/Flyatar/ros/rosinstall ~/bin/

rosinstall ~/ros/cturtle_wg_all http://www.ros.org/rosinstalls/cturtle_wg_all.rosinstall
source ~/ros/cturtle_wg_all/setup.sh

rosinstall -o ~/ros/Flyatar ~/git/Flyatar/ros/flyatar.local.rosinstall
echo "source ~/ros/Flyatar/setup.sh" >> ~/.bashrc
. ~/.bashrc

Setting Groups and Permissions:
sudo adduser $USER disk
sudo groupadd usb
sudo adduser $USER usb
sudo cp ~/git/Flyatar/ros/udevrules/99*.rules /etc/udev/rules.d/
(restart computer)

Calibration:
sudo mkdir /cameras
sudo chown $USER cameras/
roslaunch camera1394v2 flyatar_camera_cal_a.launch
<open new terminal>
rosdep install camera_calibration
rosmake camera_calibration
rosrun camera_calibration cameracalibrator.py --size 8x6 --square 0.030 image:=/camera/image_raw camera:=/camera
<wave 30 mm checkerboard in front of camera until calibrate button activates>
<click commit button>
mv /tmp/calibration_00305300013c2f28.yaml /cameras/basler_a622f_calibration.yaml
cp /cameras/basler_a622f_calibration.yaml /cameras/basler_a622f_rect_calibration.yaml
roslaunch camera1394v2 flyatar_camera_cal_b.launch
<open new terminal>
rosrun camera_calibration cameracalibrator.py --size 8x6 --square 0.030 image:=/camera/image_rect camera:=/camera
<wave 30 mm checkerboard in front of camera until calibrate button activates>
<click commit button>
<transfer camera calibration info from /cameras/basler_a622f_calibration.yaml 
 and /cameras/basler_a622f_rect_calibration.yaml into 
 $(find flyatar_calibration)/calibration_data/camera_calibration_data.launch by hand>
roslaunch flyatar_calibration CameraPlate.launch
<Use left joystick to move green circle until centered on plate>
<Use right joystick to change green circle radius until on edges of plate>
<Place checkerboard on plate>
<Record mask radius and camera_plate_origin info into camera_plateimage_calibration_data.launch>
<Record rvec and tvec info into camera_plate_calibration_data.launch>
roslaunch flyatar_calibration StagePlate.launch

Compiling Stage USB Device Firmware:
mkdir ~/LUFA
cd ~/LUFA
wget http://lufa-lib.googlecode.com/files/LUFA-090605.zip
unzip LUFA-090605.zip
mv LUFA\ 090605/ LUFA090605
echo "export LUFA090605=~/LUFA/LUFA090605" >> ~/.bashrc
. ~/.bashrc
sudo apt-get install gcc-avr avr-libc
mkdir ~/TEENSY
cd ~/TEENSY
wget http://www.pjrc.com/teensy/teensy.gz
gzip -d teensy.gz
chmod 755 teensy
sudo cp ~/git/Flyatar/ros/udevrules/49-teensy.rules /etc/udev/rules.d/
cd ~/ros/Flyatar/Flyatar/ros/actuation/stage/usb_device/
make
~/TEENSY/teensy &
# Press button on teensy board
# Select hex file in ~/ros/Flyatar/Flyatar/ros/actuation/stage/usb_device/